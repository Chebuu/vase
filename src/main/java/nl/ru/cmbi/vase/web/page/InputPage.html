<!DOCTYPE html>
<html lang="en">
	<body>
	<wicket:extend>
	
		<script type="text/javascript" src="jobs.js"></script>
		<script type="text/javascript">
		
			// Tell the nav-bar that this is the active page
			$('#nav-input').addClass('active');
			
			function submitCallback() {
				
				var structure = document.forms["structure-input"]["pdbfile"].value ;
				
				submitJob ( structure );

				// clear the text area
				document.getElementById("pdb-input").value = "" ;
				
				return false; // we want to stay on this page
			}
			
		</script>
		
		<div class="row equal">
		
			<div class="col-md-8">
				<div class="panel panel-default">
				  <div class="panel-heading">Input PDB</div>
				  <div class="panel-body" style="height:400px">
				  
				  	<form name="structure-input" action="/input" method="POST" onsubmit="return submitCallback();">
				  	
						<textarea id="pdb-input" class="pdb-input" name="pdbfile" required="required"
							style="width:100%;height:340px"
							placeholder="Enter the contents of a PDB file here.." />
							
						<input type="submit" value="Submit" >
					</form>
					
				  </div>
				</div>
			</div>
			
			<div class="col-md-4">
				<div class="panel panel-default">
				  <div class="panel-heading">Jobs</div>
				  <div class="panel-body" style="height:400px">
				  
				  	<table id="joblisting" class="table"  >
				  		<thead>
				  			<tr>
				  				<th></th>
				  				<th>Job ID</th>
				  				<th>Status</th>
				  				<th></th>
				  			</tr>
				  		</thead>
				  		<tbody style="height:300px; overflow-y: auto">
				  		</tbody>
				  	</table>
				  	
				  </div>
				</div>
			</div>
		</div>
				  	
  	<script type="text/javascript">
  	
		initJobPage();
		
		// poll every 2 seconds
		setInterval(pollJobs,2000);
	
  	</script>
	</wicket:extend>	
	</body>
</html>
